doctype html
html(lang='ko')
    head
        include partials/head.pug 
               
    body
        include partials/nav.pug

        div(class='container mb-3')

            h1(class='mb-3') íšŒì˜ê²°ê³¼

            table(class='board-table table table-sm border-bottom')  
                colgroup 
                    col(width="10%")  
                    col(width="20%") 
                    col(width="45%") 
                    col(width="10%") 
                    col(width="15%")    

                thead(class='thead-light')
                    tr
                        th(scope='col' class='numId') ë²ˆí˜¸                               
                        th(scope='col') íšŒì˜ì œëª©   
                        th(scope='col') íšŒì˜ê²°ê³¼   
                        //-th(scope='col' class='views') ì¡°íšŒ  
                        th(scope='col' class='author') ì‘ì„±ì   
                        th(scope='col' class='date') ê²Œì‹œì¼   
                tbody                        
                    - var maxContents=10                                      
                    - for(var index = 0; index < list.length; index++)             
                        tr
                            if(list.length == null || list.length == 0) 
                                td(colspan=5)="í‘œì‹œ í•  ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤."
                            
                        tr
                            //- íšŒì˜ë²ˆí˜¸
                            td(class='numId')=list[index]['Key']
                            //- íšŒì˜ì œëª©
                            td
                                a(href='' class='title-container') 
                                    div(data-search-highlight='title' class='title-ellipsis ellipsis float-left')
                                        span(class='title-text')=list[index]['Record']['mtitle']
                                        if(commentCount)
                                            small(class="title-comments d-inline-block pl-2")=commentCount
                                        if(attachment)
                                            small(class="title-comments d-inline-block pl-2") ğŸ“
                            //- íšŒì˜ê²°ê³¼
                            td           
                                a(href='' class='ellipsis' text-overflow)=list[index]['Record']['mcontents'] 
                            //- ì¡°íšŒìˆ˜
                            //-td(class='views')=list[index]['Record']['model']
                            //- ì‘ì„±ì                                
                            td(class='author')
                                div(data-search-highlight="author" class="ellipsis")=list[index]['Record']['owner']
                            td(class="date")
                                -var tmpDateTime = list[index]["Record"]["datetime"].split(" ")                              
                                span()=tmpDateTime[0]

                            -if( maxContents == index )
                                break
                                
                           

            div(class='row mb-3')
                div(class='col-2')
                    -var cnt = list.length + 1
                    -console.log('jsonCount : ' + cnt)
                    a(href='/api/createcar/'+cnt class='btn btn-primary' name='cn' value=cnt) ìƒˆê¸€ ì‘ì„±
                        

                nav(class='col-8')                                       
                    ul(class='pagination pagination-sm justify-content-center align-items-center h-100 mb-0')
                        li(class="page-item")
                            a(class="page-link" href="") &laquo;
                        -var offset = 3     
                        -var maxPage = 3                      
                        -for(var i=1;i<maxPage;i++) 
                            -if(i<offset || i>maxPage-offset || (i>=page-(offset-1) && i<=page+(offset-1)))
                                -if(i != page)
                                    li(class="page-item")
                                        a(class="page-link" href="")=i
                                -else
                                    li(class="page-item disabled")
                                        a(class="page-link" href="")=i     
                        li(class="page-item")
                            a(class="page-link" href="") &raquo;
                    

                                
                                

          
        //-
            ul
                each item in list
                    li="ID:  " +item["Key"]+" mtitle:  "  +item["Record"]["mtitle"]+" mcontents:  "  + item["Record"]["mcontents"] + " owner:  "  + item["Record"]["owner"] + " datetime:  "  +item["Record"]["datetime"]
    
    
            
                
 
